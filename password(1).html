<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>重置密码</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        success: '#00B42A',
                        danger: '#F53F3F',
                        dark: '#1D2129',
                        'dark-2': '#4E5969',
                        'light-1': '#F2F3F5',
                    },
                },
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .input-focus {
                @apply focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none;
            }
        }
    </style>
</head>
<body class="bg-light-1 min-h-screen flex items-center justify-center p-4">
    <div class="w-full max-w-md bg-white rounded-xl shadow-lg p-8">
        <h2 class="text-2xl font-bold text-dark mb-6 text-center">重置密码</h2>
        
        <form id="resetForm" class="space-y-5" action="../Servlet" method="post">
            <!-- 手机号 -->
            <div>
                <label for="phone" class="block text-sm font-medium text-dark-2 mb-1">手机号码</label>
                <div class="relative">
                    <input type="tel" id="phone" placeholder="请输入11位手机号" 
                        class="w-full pl-10 pr-4 py-3 rounded-lg border border-light-1 text-dark input-focus"
                        maxlength="11" required name="tell">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fa fa-phone text-dark-2"></i>
                    </div>
                </div>
                <p id="phoneError" class="text-danger text-sm mt-1 hidden">请输入正确手机号</p>
            </div>
            
            <!-- 新密码 -->
            <div>
                <label for="password" class="block text-sm font-medium text-dark-2 mb-1">新密码</label>
                <div class="relative">
                    <input type="password" id="password" placeholder="至少6位字符" 
                        class="w-full pl-10 pr-4 py-3 rounded-lg border border-light-1 text-dark input-focus"
                        required name="password">
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fa fa-lock text-dark-2"></i>
                    </div>
                    <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 pr-3 flex items-center text-dark-2">
                        <i class="fa fa-eye-slash"></i>
                    </button>
                </div>
                <p id="passwordError" class="text-danger text-sm mt-1 hidden">密码长度至少为6位</p>
            </div>
            
            <!-- 确认密码 -->
            <div>
                <label for="confirmPassword" class="block text-sm font-medium text-dark-2 mb-1">确认密码</label>
                <div class="relative">
                    <input type="password" id="confirmPassword" placeholder="再次输入密码" 
                        class="w-full pl-10 pr-4 py-3 rounded-lg border border-light-1 text-dark input-focus"
                        required>
                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                        <i class="fa fa-lock text-dark-2"></i>
                    </div>
                    <button type="button" id="toggleConfirm" class="absolute inset-y-0 right-0 pr-3 flex items-center text-dark-2">
                        <i class="fa fa-eye-slash"></i>
                    </button>
                </div>
                <p id="confirmError" class="text-danger text-sm mt-1 hidden">两次输入的密码不一致</p>
            </div>
            
            <!-- 提交按钮 -->
            <button type="submit" id="submitBtn" 
                class="w-full bg-primary text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 hover:bg-primary/90" onclick="window1()">
                重置密码
            </button>
        </form>
        
        <div class="mt-6 text-center">
            <a href="../index.html" class="text-primary hover:text-primary/80 text-sm font-medium">返回登录</a>
        </div>
    </div>
    
    <!-- 成功提示 -->
    <div id="successToast" class="fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-success text-white px-6 py-3 rounded-lg shadow-lg opacity-0 transition-all duration-500">
        <span>密码重置成功！</span>
    </div>
    
    <script>
        const form = document.getElementById('resetForm');
        const phoneInput = document.getElementById('phone');
        const passwordInput = document.getElementById('password');
        const confirmInput = document.getElementById('confirmPassword');
        const phoneError = document.getElementById('phoneError');
        const passwordError = document.getElementById('passwordError');
        const confirmError = document.getElementById('confirmError');
        const togglePassword = document.getElementById('togglePassword');
        const toggleConfirm = document.getElementById('toggleConfirm');
        const submitBtn = document.getElementById('submitBtn');
        const successToast = document.getElementById('successToast');
        
        // 手机号验证 - 只检查长度为11位
        phoneInput.addEventListener('input', function() {
            const phone = phoneInput.value.trim();
            
            if (phone.length !== 11) {
                phoneInput.classList.add('border-danger');
                phoneError.classList.remove('hidden');
            } else {
                phoneInput.classList.remove('border-danger');
                phoneError.classList.add('hidden');
            }
        });
        
        // 密码验证
        passwordInput.addEventListener('input', function() {
            const password = passwordInput.value;
            
            if (password.length < 6) {
                passwordInput.classList.add('border-danger');
                passwordError.classList.remove('hidden');
            } else {
                passwordInput.classList.remove('border-danger');
                passwordError.classList.add('hidden');
            }
            
            // 检查确认密码
            validateConfirm();
        });
        
        // 确认密码验证
        confirmInput.addEventListener('input', validateConfirm);
        
        function validateConfirm() {
            const password = passwordInput.value;
            const confirm = confirmInput.value;
            
            if (confirm && confirm !== password) {
                confirmInput.classList.add('border-danger');
                confirmError.classList.remove('hidden');
            } else {
                confirmInput.classList.remove('border-danger');
                confirmError.classList.add('hidden');
            }
        }
        
        // 切换密码可见性
        togglePassword.addEventListener('click', function() {
            toggleVisibility(passwordInput, togglePassword);
        });
        
        toggleConfirm.addEventListener('click', function() {
            toggleVisibility(confirmInput, toggleConfirm);
        });
        
        function toggleVisibility(input, button) {
            const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
            input.setAttribute('type', type);
            button.innerHTML = type === 'password' ? '<i class="fa fa-eye-slash"></i>' : '<i class="fa fa-eye"></i>';
        }
        
        // 表单提交
        function window1(){
        	alert('修改成功');
        }
    </script>
</body>
</html>
    